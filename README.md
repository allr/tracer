Contents of the repository originally cloned from
http://r.cs.purdue.edu/hg/

Minor modifications made for compatibility with R-3.0.1 and to enable
features that were incomplete in the original repository.

Build with "make", install with
"make install PREFIX=/where/you/want/it".
It is not recommended to use the installation option directly.
You should use the traceR-installer repository from github instead
( https://github.com/allr/traceR-installer ) which also installs the
two modified R interpreters needed by traceR.

If you want to see a small demonstration of the data gathered by
traceR, run the "rundemos.sh" script in the demos subdirectory after
installation. It runs traceR on a few included example R programs and
creates a number of PDF plots from the gathered data in a new
subdirectory "plots".

After installation a few scripts are available in the target
directory:

- tracer.sh

    The main script that runs traceR against a user program, to be
    called with the name of the R program as argument followed by any
    arguments the R program may need, e.g. "./tracer.sh program.R arg1
    arg2".

    The main output of traceR is an sqlite3 database "db.db" in the
    current directory. A number of views are generated in this
    database to summarize the analysis results which are documented
    in queries/README.md. Additionally the process generates a
    subdirectory "trace" containing a subdirectory named after the R
    program which holds the raw data files generated during the
    trace. Currently some of the data is not imported into the
    database due to architectural deficiencies of traceR, so manual
    inspection of the <program>.time file may reveal additional
    interesting data.

    The data from multiple programs can be accumulated in a single
    database by running tracer.sh multiple times from the same
    directory. The programs are currently identified by their file
    name only. Multiple runs of the same program can be stored in the
    same database, but the example views may become confusing due to
    duplicate names.

- scripts/plotall.sh

    The plotall.sh script generates a number of CSV and PDF files for
    a selected subset of the data collected by traceR. The output
    files are stored in a subdirectory "plots" of the current directory.
    The script assumes that the db.db file is located in
    the currect directory. gnuplot version 4.4. or later and Perl 5.10
    or later are required to generate the plots as I was unable to
    create a sufficiently nice-looking output with just plain R (no
    packages not included with the R distribution).

    Plots are generated for the runtime_details_pct, memory_used_pct,
    vector_sizes_pct, vector_counts, memory_used_vs_alloc and
    total_runtimes views. A more detailed description of the contents
    of these views can be found in queries/README.md .

- scripts/plotcsv.pl

    plotcsv.pl is a Perl script that parses a CSV file and generates a
    PDF- or PNG-format plot from it using gnuplot. The default plot
    style is to plot all columns from a line in the CSV beside each
    other, but it can be changed to a stacked bar graph output using
    the "--stacked" parameter. The script assumes that the first line
    in the file holds names for the columns and the first column of
    the following lines holds a label for the current line. The CSV
    parser in this script is extremely rudimentary, but it is
    sufficient to read files generated by sqlite3 with the "-csv
    -header" options.

- demos/rundemos.sh

    rundemos.sh in the demos subdirectory runs traceR against a few
    included demonstration R programs and generates plots from the
    data gathered during these runs. Please check demos/README.md for
    more details about the demonstration programs and their expected
    behaviour.


The contents of the output database db.db is currently undocumented as
it is expected to change when traceR is rewritten in the near
future. Please check the included sample views in the queries
subdirectory and their documentation as an interim measure.
